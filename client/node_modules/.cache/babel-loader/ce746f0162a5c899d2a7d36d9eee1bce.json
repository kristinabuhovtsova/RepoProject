{"ast":null,"code":"var _jsxFileName = \"/Users/kristinabuhovtsova/Documents/Countries/client/src/components/MyProfile.js\";\nimport React from 'react';\nimport store from '../store';\nimport { NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport SignOutAction from '../actions/signOutAction';\nimport DeleteAction from '../actions/deleteAction';\nimport '../css/Button.css';\n\nconst ChangingName = () => {};\n\nconst Deletting = () => {\n  const username = store.getState().in.username;\n  axios.delete('/catalog/signup', {\n    params: {\n      'username': username\n    }\n  }).then(store.dispatch(SignOutAction())).then(store.dispatch(DeleteAction(username)));\n};\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    if (length(this.props.stat) > 0) {\n      this.state = {\n        countries: this.props.stat.find(info => info.username === this.props.username).viscountries\n      };\n    } else {\n      this.state = [];\n    }\n  }\n\n  /*\n    componentDidMount() {\n        const allstat=this.props.stat\n        console.log(allstat)\n        if (length(allstat)>0) {\n        const viscountr= allstat.find(info => info.username === this.props.username).viscountries  \n        this.setState ({countries : viscountr})}\n    }*/\n  render() {\n    if (this.props.in) {\n      return React.createElement(\"div\", {\n        class: \"col-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"My profile\"), React.createElement(\"button\", {\n        class: \"nav-button\",\n        onClick: Deletting,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Delete profile \"), React.createElement(\"button\", {\n        class: \"nav-button\",\n        onClick: ChangingName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Change name \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"Name: \", React.createElement(NavLink, {\n        to: \"/changename\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \" \", this.props.username), \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"My travels: \"), this.state.countries.map((country, ind) => React.createElement(\"p\", {\n        key: ind,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, ind + 1, React.createElement(NavLink, {\n        to: String('/countries/' + country),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \" \", country))));\n    } else {\n      return React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Firstly, you need to sign in\");\n    }\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/kristinabuhovtsova/Documents/Countries/client/src/components/MyProfile.js"],"names":["React","store","NavLink","axios","SignOutAction","DeleteAction","ChangingName","Deletting","username","getState","in","delete","params","then","dispatch","Profile","Component","constructor","props","length","stat","state","countries","find","info","viscountries","render","map","country","ind","String"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAAQC,OAAR,QAAsB,kBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAO,mBAAP;;AAEA,MAAMC,YAAY,GAAG,MAAM,CAE1B,CAFD;;AAGA,MAAMC,SAAS,GAAG,MAAM;AACpB,QAAMC,QAAQ,GAAGP,KAAK,CAACQ,QAAN,GAAiBC,EAAjB,CAAoBF,QAArC;AACAL,EAAAA,KAAK,CAACQ,MAAN,CAAc,iBAAd,EAAiC;AAACC,IAAAA,MAAM,EAAE;AAAC,kBAAYJ;AAAb;AAAT,GAAjC,EACKK,IADL,CACWZ,KAAK,CAACa,QAAN,CAAgBV,aAAa,EAA7B,CADX,EAEKS,IAFL,CAEWZ,KAAK,CAACa,QAAN,CAAeT,YAAY,CAACG,QAAD,CAA3B,CAFX;AAGH,CALD;;AAOA,MAAMO,OAAN,SAAsBf,KAAK,CAACgB,SAA5B,CAAsC;AAClCC,EAAAA,WAAW,CAAEC,KAAF,EAAS;AACpB,UAAOA,KAAP;;AACA,QAAIC,MAAM,CAAC,KAAKD,KAAL,CAAWE,IAAZ,CAAN,GAAwB,CAA5B,EAA8B;AAC9B,WAAKC,KAAL,GAAa;AAAEC,QAAAA,SAAS,EAAE,KAAKJ,KAAL,CAAWE,IAAX,CAAgBG,IAAhB,CAAqBC,IAAI,IAAIA,IAAI,CAAChB,QAAL,KAAkB,KAAKU,KAAL,CAAWV,QAA1D,EAAoEiB;AAAjF,OAAb;AAA6G,KAD7G,MAEI;AAAC,WAAKJ,KAAL,GAAW,EAAX;AAAc;AACnB;;AACF;;;;;;;;AASEK,EAAAA,MAAM,GAAI;AACN,QAAI,KAAKR,KAAL,CAAWR,EAAf,EAAmB;AACf,aACI;AAAK,QAAA,KAAK,EAAG,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAQ,QAAA,KAAK,EAAG,YAAhB;AAA6B,QAAA,OAAO,EAAEH,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFJ,EAGI;AAAQ,QAAA,KAAK,EAAG,YAAhB;AAA6B,QAAA,OAAO,EAAED,YAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAS,oBAAC,OAAD;AAAS,QAAA,EAAE,EAAC,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA4B,KAAKY,KAAL,CAAWV,QAAvC,CAAT,MAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALJ,EAMK,KAAKa,KAAL,CAAWC,SAAX,CAAqBK,GAArB,CAAyB,CAACC,OAAD,EAAUC,GAAV,KAC1B;AAAG,QAAA,GAAG,EAAEA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAcA,GAAG,GAAC,CAAlB,EACA,oBAAC,OAAD;AAAS,QAAA,EAAE,EAAEC,MAAM,CAAC,gBAAeF,OAAhB,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA+CA,OAA/C,CADA,CADC,CANL,CADJ;AAaE,KAdN,MAeK;AACD,aAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAAR;AACH;AACA;;AAnC6B;;AAuCtC,eAAeb,OAAf","sourcesContent":["import React from 'react';\nimport store from '../store'\nimport {NavLink} from 'react-router-dom'\nimport axios from 'axios';\nimport SignOutAction from '../actions/signOutAction';\nimport DeleteAction from '../actions/deleteAction';\nimport '../css/Button.css';\n\nconst ChangingName = () => {\n    \n}\nconst Deletting = () => {\n    const username = store.getState().in.username\n    axios.delete ('/catalog/signup', {params: {'username': username}})\n        .then (store.dispatch (SignOutAction()))\n        .then (store.dispatch(DeleteAction(username)))\n}\n\nclass Profile extends React.Component {\n    constructor (props) {\n    super (props)\n    if (length(this.props.stat)>0){\n    this.state = { countries: this.props.stat.find(info => info.username === this.props.username).viscountries }}\n    else{this.state=[]}\n   };\n  /*\n    componentDidMount() {\n        const allstat=this.props.stat\n        console.log(allstat)\n        if (length(allstat)>0) {\n        const viscountr= allstat.find(info => info.username === this.props.username).viscountries  \n        this.setState ({countries : viscountr})}\n    }*/\n\n    render () {\n        if (this.props.in) {\n            return (\n                <div class = 'col-9'>\n                    <h3>My profile</h3>\n                    <button class = 'nav-button' onClick={Deletting}>Delete profile </button>\n                    <button class = 'nav-button' onClick={ChangingName}>Change name </button>  \n                    <p>Name: <NavLink to='/changename'> {this.props.username}</NavLink> </p>\n                    <p>My travels: </p>\n                    {this.state.countries.map((country, ind) =>\n                    <p key={ind}>{ind+1} \n                    <NavLink to={String('/countries/'+ country)}> {country}</NavLink>\n                    </p>\n                    )}\n                </div>\n            )}\n        else {\n            return (<h3>Firstly, you need to sign in</h3>)\n        }\n        }\n}\n\n\nexport default Profile"]},"metadata":{},"sourceType":"module"}